$content-width: 80%
$content-max-width: 700px
$code-max-width: 960px

@mixin h1
  font-size: 40px
  font-weight: 400

@mixin h2
  font-size: 36px
  font-weight: 300

@mixin h3
  font-size: 18px
  font-weight: 300

@mixin exercise-h2
  font-size: 20px
  font-weight: 300

@mixin exercise-indicator
  font-size: 20px
  font-weight: 400

@mixin position-center
  width: $content-width
  max-width: $content-max-width
  margin: auto

@mixin show-number
  counter-increment: list
  content: counter(list)
  display: block
  position: absolute
  font-weight: 400

@mixin shadow
  &:after
    content: ''
    display: block
    position: absolute
    left: 0
    top: 0
    width: 100%
    height: 100%
    background: rgba(0,0,0,0.2)


.lessons-page
  &.show
    body
      margin: 0
      font-family: Roboto
      font-weight: 300
      font-size: 18px
      overflow: auto
      overflow-x: hidden

    code
      font-family: menlo
      font-size: 16px
    img
      max-width: 100%

    header
      font-size: 0
      position: relative
      @include shadow

      img
        width: 100%
      h1
        @include h1
        text-decoration: underline
        z-index: 1
        color: white
        position: absolute
        top: 0
        bottom: 0
        margin: auto
        text-align: center
        height: 1em
        width: 100%

    .normal
      margin: auto
      margin-top: 50px
      p,h2,ul
        @include position-center
      p
        margin: 30px auto
      h2
        @include h2
        margin: 30px auto
        color: #616161
      ul
        padding-left: 0
      img
        display: block
        margin: auto
      pre
        padding: 20px 0
        code
          display: block
          @include position-center
        background: rgba(204,204,204,0.1)


    .uncompleted
      padding: 30px 0
      text-align: center
      i
        display: block
        font-size: 5em
        color: #C6C6C6

    .completed
      padding: 30px 0
      text-align: center
      i
        display: block
        font-size: 5em
        color: #11D146
    .tip
      background: white
      p
        @include position-center
        padding: 30px 0
        font-family: 'Open Sans'
        font-weight: 400
    .goal
      margin: 100px auto
      margin-bottom: 30px
      font-size: 2em
      color: #616161
      text-align: center
      strong
        color: #FF5252
    .exercise
      background: #F8FBFF
      padding-top: 40px
      h2,p
        @include position-center
      h2
        @include exercise-h2
        margin-top: 0
        margin-bottom: 50px
        position: relative
        .indicator
          @include exercise-indicator
          position: absolute
          left: -20%
          top: 0

      pre
        overflow: auto

      .steps
        counter-reset: list
        list-style: none
        padding: 0
        .step
          .content
            @include position-center
            position: relative
            &.top-space
              &:first-child
                &:before
                  top: 30px
              h3
                padding: 30px 0

            &:first-child
              &:before
                @include show-number
                left: -40px
            &:after
              content: ''
              display: block
              position: absolute
              left: -20px
              top: 0
              background: #CBCCCE
              width: 3px
              height: 100%
              z-index: 10

          h3
            margin: 0
            @include h3
          pre
            padding: 20px 15px
            line-height: 150%
            background: white

          img
            position: relative
            z-index: 100
            display: block
            margin: auto


          .guide
            position: relative
            z-index: 50
            h4,ol
              @include position-center

            h4
              text-align: center
              position: relative
              font-style: italic
              padding: 30px 0

            ol
              padding: 0
              list-style: none
              counter-reset: list
              position: relative
              padding-bottom: 40px
              li
                padding-left: 20px
                line-height: 200%
                &:before
                  left: -3%
                  @include show-number



    .next
      text-align: center
      margin: 0
      padding: 30px 0
      i
        font-size: 3em
        color: #8E8E8E


    // it's the point where we should hide the indicator
    @media only screen  and (max-width : 1000px)
      .indicator
        display: none

    // for mobile 480px
    @media only screen  and (max-width : 480px)
      header
        h1
          font-size: 25px
      .exercise
        .steps
          .step
            .content
              width: 60%

      code
        overflow: auto

      .guide
        &:before
          top: -50px !important
          padding-top: 50px !important

    // for mobile 280px
    @media only screen  and (max-width : 280px)
      header
        h1
          font-size: 20px
